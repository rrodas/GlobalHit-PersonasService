≈-
R/Users/user/Documents/MiProyecto/presentation/api/Controllers/CountryController.cs
	namespace

 	
api


 
.

 
Controllers

 
{ 
[ 
ApiController 
] 
[ 
Route 

(
 
$str 
) 
] 
public 

class 
CountryController "
:# $
ControllerBase% 3
{ 
private 
readonly 
ICountryService (
_iCountryService) 9
;9 :
private 
readonly 
ILogger  
<  !
CountryController! 2
>2 3
_logger4 ;
;; <
public 
CountryController  
(  !
ICountryService! 0
iCountryService1 @
,@ A
ILoggerB I
<I J
CountryControllerJ [
>[ \
logger] c
)c d
{ 	
this 
. 
_iCountryService !
=" #
iCountryService$ 3
;3 4
_logger 
= 
logger 
; 
} 	
[ 	
HttpGet	 
] 
public 
List 
< 
City 
> 
Get 
( 
) 
{ 	
List 
< 
City 
> 
response 
=  !
new" %
List& *
<* +
City+ /
>/ 0
(0 1
)1 2
;2 3
try 
{ 
response   
=   
_iCountryService   +
.  + ,
	GetCities  , 5
(  5 6
)  6 7
;  7 8
}"" 
catch## 
(## 
System## 
.## 
	Exception## #
e##$ %
)##% &
{$$ 
_logger%% 
.%% 
LogInformation%% &
(%%& '
e%%' (
.%%( )
Message%%) 0
)%%0 1
;%%1 2
}&& 
return'' 
response'' 
;'' 
}(( 	
[** 	
HttpGet**	 
(** 
$str** 
)** 
]** 
public++ 
City++ 
Get++ 
(++ 
int++ 
id++ 
)++ 
{,, 	
City-- 
response-- 
=-- 
new-- 
City--  $
(--$ %
)--% &
;--& '
try.. 
{// 
response00 
=00 
_iCountryService00 +
.00+ ,
GetCity00, 3
(003 4
id004 6
)006 7
;007 8
}22 
catch33 
(33 
System33 
.33 
	Exception33 #
e33$ %
)33% &
{44 
_logger55 
.55 
LogInformation55 &
(55& '
e55' (
.55( )
Message55) 0
)550 1
;551 2
}66 
return77 
response77 
;77 
}88 	
[:: 	
HttpPost::	 
]:: 
public;; 
void;; 
Post;; 
(;; 
[;; 
FromBody;; "
];;" #
City;;$ (
city;;) -
);;- .
{<< 	
try== 
{>> 
_iCountryService??  
.??  !
Create??! '
(??' (
city??( ,
)??, -
;??- .
}@@ 
catchAA 
(AA 
SystemAA 
.AA 
	ExceptionAA #
eAA$ %
)AA% &
{BB 
_loggerCC 
.CC 
LogInformationCC &
(CC& '
eCC' (
.CC( )
MessageCC) 0
)CC0 1
;CC1 2
}DD 
}EE 	
[GG 	
HttpPutGG	 
(GG 
$strGG 
)GG 
]GG 
publicHH 
voidHH 
PutHH 
(HH 
intHH 
idHH 
,HH 
[HH  !
FromBodyHH! )
]HH) *
CityHH+ /
cityHH0 4
)HH4 5
{II 	
tryJJ 
{KK 
CityLL 
_cityLL 
=LL 
newLL  
CityLL! %
(LL% &
)LL& '
;LL' (
_cityMM 
=MM 
cityMM 
;MM 
_cityNN 
.NN 
IdNN 
=NN 
idNN 
;NN 
_iCountryServiceOO  
.OO  !
UpdateOO! '
(OO' (
_cityOO( -
)OO- .
;OO. /
}PP 
catchQQ 
(QQ 
SystemQQ 
.QQ 
	ExceptionQQ #
eQQ$ %
)QQ% &
{RR 
_loggerSS 
.SS 
LogInformationSS &
(SS& '
eSS' (
.SS( )
MessageSS) 0
)SS0 1
;SS1 2
}TT 
}VV 	
[YY 	

HttpDeleteYY	 
(YY 
$strYY 
)YY 
]YY 
publicZZ 
voidZZ 
DeleteZZ 
(ZZ 
intZZ 
idZZ !
)ZZ! "
{[[ 	
try\\ 
{]] 
_iCountryService^^  
.^^  !
Delete^^! '
(^^' (
id^^( *
)^^* +
;^^+ ,
}__ 
catch`` 
(`` 
System`` 
.`` 
	Exception`` #
e``$ %
)``% &
{aa 
_loggerbb 
.bb 
LogInformationbb &
(bb& '
ebb' (
.bb( )
Messagebb) 0
)bb0 1
;bb1 2
}cc 
}dd 	
}ff 
}gg Î
Z/Users/user/Documents/MiProyecto/presentation/api/Controllers/WeatherForecastController.cs
	namespace 	
api
 
. 
Controllers 
{		 
[

 
ApiController

 
]

 
[ 
Route 

(
 
$str 
) 
] 
public 

class %
WeatherForecastController *
:+ ,
ControllerBase- ;
{ 
private 
static 
readonly 
string  &
[& '
]' (
	Summaries) 2
=3 4
new5 8
[8 9
]9 :
{ 	
$str 
, 
$str !
,! "
$str# +
,+ ,
$str- 3
,3 4
$str5 ;
,; <
$str= C
,C D
$strE L
,L M
$strN S
,S T
$strU a
,a b
$strc n
} 	
;	 

private 
readonly 
ILogger  
<  !%
WeatherForecastController! :
>: ;
_logger< C
;C D
public %
WeatherForecastController (
(( )
ILogger) 0
<0 1%
WeatherForecastController1 J
>J K
loggerL R
)R S
{ 	
_logger 
= 
logger 
; 
} 	
[ 	
HttpGet	 
] 
public 
IEnumerable 
< 
WeatherForecast *
>* +
Get, /
(/ 0
)0 1
{ 	
var 
rng 
= 
new 
Random  
(  !
)! "
;" #
return 

Enumerable 
. 
Range #
(# $
$num$ %
,% &
$num' (
)( )
.) *
Select* 0
(0 1
index1 6
=>7 9
new: =
WeatherForecast> M
{ 
Date   
=   
DateTime   
.    
Now    #
.  # $
AddDays  $ +
(  + ,
index  , 1
)  1 2
,  2 3
TemperatureC!! 
=!! 
rng!! "
.!!" #
Next!!# '
(!!' (
-!!( )
$num!!) +
,!!+ ,
$num!!- /
)!!/ 0
,!!0 1
Summary"" 
="" 
	Summaries"" #
[""# $
rng""$ '
.""' (
Next""( ,
("", -
	Summaries""- 6
.""6 7
Length""7 =
)""= >
]""> ?
}## 
)## 
.$$ 
ToArray$$ 
($$ 
)$$ 
;$$ 
}%% 	
}&& 
}'' ç

</Users/user/Documents/MiProyecto/presentation/api/Program.cs
	namespace

 	
api


 
{ 
public 

class 
Program 
{ 
public 
static 
void 
Main 
(  
string  &
[& '
]' (
args) -
)- .
{ 	
CreateHostBuilder 
( 
args "
)" #
.# $
Build$ )
() *
)* +
.+ ,
Run, /
(/ 0
)0 1
;1 2
} 	
public 
static 
IHostBuilder "
CreateHostBuilder# 4
(4 5
string5 ;
[; <
]< =
args> B
)B C
=>D F
Host 
.  
CreateDefaultBuilder %
(% &
args& *
)* +
. $
ConfigureWebHostDefaults )
() *

webBuilder* 4
=>5 7
{ 

webBuilder 
. 

UseStartup )
<) *
Startup* 1
>1 2
(2 3
)3 4
;4 5
} 
) 
; 
} 
} ç#
</Users/user/Documents/MiProyecto/presentation/api/Startup.cs
	namespace 	
api
 
{ 
public 

class 
Startup 
{ 
public 
Startup 
( 
IConfiguration %
configuration& 3
)3 4
{ 	
Configuration 
= 
configuration )
;) *
} 	
public 
IConfiguration 
Configuration +
{, -
get. 1
;1 2
}3 4
public 
void 
ConfigureServices %
(% &
IServiceCollection& 8
services9 A
)A B
{ 	
services 
. 
AddSwaggerGen "
(" #
)# $
;$ %
services 
. 
AddControllers #
(# $
)$ %
;% &
services   
.   
	AddScoped   
<   
application   *
.  * +
application  + 6
.  6 7
services  7 ?
.  ? @
country  @ G
.  G H
ICountryService  H W
,  W X
application  X c
.  c d
application  d o
.  o p
services  p x
.  x y
country	  y Ä
.
  Ä Å
CountryService
  Å è
>
  è ê
(
  ê ë
)
  ë í
;
  í ì
services!! 
.!! 
	AddScoped!! 
<!! 
domain!! %
.!!% &
domain!!& ,
.!!, -
services!!- 5
.!!5 6
country!!6 =
.!!= >!
ICountryDomainService!!> S
,!!S T
domain!!T Z
.!!Z [
domain!![ a
.!!a b
services!!b j
.!!j k
country!!k r
.!!r s 
CuntryDomainService	!!s Ü
>
!!Ü á
(
!!á à
)
!!à â
;
!!â ä
services"" 
."" 
	AddScoped"" 
<"" 
domain"" %
.""% &
repositories""& 2
.""2 3
	contracts""3 <
.""< =
country""= D
.""D E
ICountryRepository""E W
,""W X
infraestructure""X g
.""g h
repositories""h t
.""t u
CountryRepository	""u Ü
>
""Ü á
(
""á à
)
""à â
;
""â ä
services$$ 
.$$ 
AddDbContext$$ !
<$$! "
infraestructure$$" 1
.$$1 2
CountryDBContext$$2 B
>$$B C
($$C D
options$$D K
=>$$L N
options%% 
.%% 
UseSqlServer%%  
(%%  !
Configuration%%! .
.%%. /
GetConnectionString%%/ B
(%%B C
$str%%C Q
)%%Q R
)%%R S
)%%S T
;%%T U
}&& 	
public)) 
void)) 
	Configure)) 
()) 
IApplicationBuilder)) 1
app))2 5
,))5 6
IWebHostEnvironment))7 J
env))K N
)))N O
{** 	
if++ 
(++ 
env++ 
.++ 
IsDevelopment++ !
(++! "
)++" #
)++# $
{,, 
app-- 
.-- %
UseDeveloperExceptionPage-- -
(--- .
)--. /
;--/ 0
}.. 
app00 
.00 

UseSwagger00 
(00 
)00 
;00 
app22 
.22 
UseSwaggerUI22 
(22 
c22 
=>22 !
{22" #
c22# $
.22$ %
SwaggerEndpoint22% 4
(224 5
$str225 O
,22O P
$str22P c
)22c d
;22d e
}22e f
)22g h
;22h i
app44 
.44 
UseHttpsRedirection44 #
(44# $
)44$ %
;44% &
app66 
.66 

UseRouting66 
(66 
)66 
;66 
app88 
.88 
UseAuthorization88  
(88  !
)88! "
;88" #
app:: 
.:: 
UseEndpoints:: 
(:: 
	endpoints:: &
=>::' )
{;; 
	endpoints<< 
.<< 
MapControllers<< (
(<<( )
)<<) *
;<<* +
}== 
)== 
;== 
}>> 	
}?? 
}@@ ¡
D/Users/user/Documents/MiProyecto/presentation/api/WeatherForecast.cs
	namespace 	
api
 
{ 
public 

class 
WeatherForecast  
{ 
public 
DateTime 
Date 
{ 
get "
;" #
set$ '
;' (
}) *
public		 
int		 
TemperatureC		 
{		  !
get		" %
;		% &
set		' *
;		* +
}		, -
public 
int 
TemperatureF 
=>  "
$num# %
+& '
(( )
int) ,
), -
(- .
TemperatureC. :
/; <
$num= C
)C D
;D E
public 
string 
Summary 
{ 
get  #
;# $
set% (
;( )
}* +
} 
} 